language: java

# Use container-based infrastructure:
sudo: false

before_cache:
  # remove all the artifacts that are installed in local repo because of mvn deploy
  - rm -rf $HOME/.m2/repository/org/sonarsource/java
  - find $HOME/.m2 -name resolver-status.properties -exec rm {} \;

# to keep Maven local repository between builds:
cache:
  directories:
    - '$HOME/.m2/repository'
    - '$HOME/.sonar'
    - '$HOME/jvmr'
    - '$HOME/maven'

notifications:
  email: false

jdk: openjdk11

script: ./travis.sh

notifications:
  email: false
  webhooks:
    - secure: "NI4Fx52MsQcUTWSfhvHctuHi338Kq1I+02QL1Arhr1RnqmDtrgnWtnfN5NI13NmMgtbKvlHONmitV5qQJl33lAKtpUQKf1kCxwJHlxdibeShNfgESdscv6zDKAv/bS8l/uLXHYkSQvFZZ/RyVY90RUaeLqt8O19h4PaYr+cYpmM="
